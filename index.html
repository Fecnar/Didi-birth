<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday Chutadamon! 🎂</title>
  <meta name="description" content="A special birthday website for Chutadamon with music, photos, and memories">
  
  <!-- PWA Meta Tags -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#FF6B9D">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Birthday 🎂">
  <link rel="apple-touch-icon" href="icon-192.jpg">
  
  <!-- Favicon -->
  <link rel="icon" href="icon-192.jpg" type="image/jpeg">
  
  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Spotify Web Playback SDK -->
  <script src="https://sdk.scdn.co/spotify-player.js"></script>
</head>

<body>
  <!-- FIXED: Enhanced Navigation with Darker Burger Menu -->
  <nav class="nav">
    <div class="nav-container">
      <div class="nav-brand">
        <h2>🎂 Happy Birthday</h2>
      </div>
      
      <!-- Enhanced Hamburger Toggle Button -->
      <button class="nav-toggle" aria-expanded="false" aria-controls="nav-menu" aria-label="Toggle navigation menu">
        <div class="hamburger"></div>
        <div class="hamburger"></div>
        <div class="hamburger"></div>
      </button>
      
      <!-- Navigation Menu with Dark Overlay -->
      <ul class="nav-menu" id="nav-menu" aria-hidden="true">
        <li><a href="#home" class="nav-link active">🏠 Home</a></li>
        <li><a href="#spotify" class="nav-link">🎵 Music</a></li>
        <li><a href="#reminders" class="nav-link">⏰ Reminders</a></li>
        <li><a href="#gallery" class="nav-link">📸 Gallery</a></li>
        <li><a href="#calendar" class="nav-link">📅 Calendar</a></li>
        <li><a href="#" id="add-to-home" class="nav-link">📱 Add to Home</a></li>
      </ul>
    </div>
  </nav>

  <!-- Floating Decorations -->
  <div class="floating-decorations">
    <div class="balloon balloon-1">🎈</div>
    <div class="balloon balloon-2">🎈</div>
    <div class="balloon balloon-3">🎈</div>
    <div class="balloon balloon-4">🎈</div>
    <div class="confetti confetti-1">🎊</div>
    <div class="confetti confetti-2">✨</div>
    <div class="confetti confetti-3">🎉</div>
    <div class="confetti confetti-4">⭐</div>
  </div>

  <!-- Theme Toggle Button -->
  <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark/light mode">
    <span class="theme-toggle-icon">🌙</span>
  </button>

  <!-- Notification Permission Banner -->
  <div id="notification-banner" class="notification-banner hidden">
    <div class="banner-content">
      <div class="banner-icon">🔔</div>
      <div class="banner-text">
        <strong>Enable Notifications</strong>
        <p>Get reminders for meals and water to stay healthy!</p>
      </div>
      <div class="banner-actions">
        <button id="enable-notifications" class="btn btn--sm btn--primary">Enable</button>
        <button id="dismiss-notifications" class="btn btn--sm btn--outline">Later</button>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <main class="main-content">
    
    <!-- HOME SECTION -->
    <section id="home" class="section active">
      <div class="container">
        <div class="home-content">
          
          <!-- Birthday Header -->
          <div class="birthday-header">
            <h1 class="birthday-title">Happy Birthday</h1>
            <h2 class="birthday-name">Chutadamon! 🎂</h2>
            <p class="birthday-subtitle">Today is your special day! 🌟</p>
          </div>

          <!-- Birthday GIF -->
          <div class="birthday-gif">
            <div class="gif-frame">
              <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExOWQzc2pwMW5xcjNqeHR0bGJ2eDBqdmpvZHpnYzQ3MnhmMzlzOGd3aSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/9rO5Aksmn0dHQKXJAu/giphy.gif" alt="Birthday Celebration" />
            </div>
          </div>

          <!-- Counters -->
          <div class="counters">
            
            <!-- Birthday Countdown -->
            <div class="card">
              <div class="card__body">
                <h3 id="countdown-title">🎉 It's Your Birthday Today!</h3>
                <div class="countdown-display">
                  <div class="time-unit">
                    <span id="days">365</span>
                    <label>Days</label>
                  </div>
                  <div class="time-unit">
                    <span id="hours">0</span>
                    <label>Hours</label>
                  </div>
                  <div class="time-unit">
                    <span id="minutes">0</span>
                    <label>Minutes</label>
                  </div>
                  <div class="time-unit">
                    <span id="seconds">0</span>
                    <label>Seconds</label>
                  </div>
                </div>
              </div>
            </div>

            <!-- Sister Counter -->
            <div class="card">
              <div class="card__body">
                <h3>💕 Best Sister Since</h3>
                <div class="sister-counter">
                  <span id="sister-days">7308</span>
                  <label>Days</label>
                  <p class="sister-date">October 5, 2005 🌟</p>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>

    <!-- SPOTIFY SECTION -->
    <section id="spotify" class="section">
      <div class="container">
        <div class="spotify-container">
          <h2>🎵 Music Player</h2>
          <p>Your complete Spotify experience! 🎶</p>

          <!-- Login Card -->
          <div id="spotify-login-card" class="card">
            <div class="card__body">
              <div class="spotify-login-content">
                <div class="spotify-logo">🎧</div>
                <h3>Connect Your Spotify</h3>
                <p>Access all your playlists, liked songs, and enjoy full music control!</p>
                <button id="spotify-login" class="btn btn--primary btn--lg">🎵 Connect Spotify</button>
                <p class="spotify-note">Requires Spotify Premium for full playback control</p>
              </div>
            </div>
          </div>

          <!-- Error Card -->
          <div id="spotify-error" class="card hidden">
            <div class="card__body">
              <div class="error-content">
                <div class="error-icon">❌</div>
                <h3>Connection Failed</h3>
                <p id="error-message">Unable to connect to Spotify</p>
                <button id="retry-spotify" class="btn btn--primary">🔄 Try Again</button>
              </div>
            </div>
          </div>

          <!-- Profile Card -->
          <div id="spotify-profile-card" class="card hidden">
            <div class="card__body">
              <div class="user-profile">
                <img id="user-avatar" class="user-avatar" alt="User Avatar" style="display: none;">
                <div class="user-info">
                  <h3 id="user-name">Loading...</h3>
                  <p id="user-email">Loading...</p>
                  <button id="spotify-logout" class="btn btn--outline btn--sm">🚪 Logout</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- REMINDERS SECTION -->
    <section id="reminders" class="section">
      <div class="container">
        <h2>🍽️ Reminders</h2>
        <p>Stay healthy and hydrated! 💪</p>

        <!-- Notification Status -->
        <div class="card notification-status-card">
          <div class="card__body">
            <h3>🔔 Notification Status</h3>
            <div class="notification-status">
              <div class="status-indicator">
                <div class="status-dot"></div>
                <span class="status-text" id="notification-status-text">Checking...</span>
              </div>
              <button id="request-notifications" class="btn btn--primary btn--sm">Enable Notifications</button>
            </div>
            <div class="next-reminder">
              <small>Next Reminder:</small><br>
              <span id="next-reminder-text">No upcoming reminders</span>
            </div>
          </div>
        </div>

        <div class="reminders-grid">
          <!-- Meal Reminders -->
          <div class="card">
            <div class="card__body">
              <h3>🍳 Meal Reminders</h3>
              <div class="meal-list">
                
                <div class="meal-item">
                  <div class="meal-header">
                    <div class="meal-icon">🍳</div>
                    <div class="meal-info">
                      <div class="meal-name">Breakfast</div>
                      <div class="meal-description">Start your day right!</div>
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" id="breakfast-toggle">
                      <span class="slider"></span>
                    </label>
                  </div>
                  <select id="breakfast-time" class="form-control">
                    <option value="06:00">6:00 AM</option>
                    <option value="07:00">7:00 AM</option>
                    <option value="08:00" selected>8:00 AM</option>
                    <option value="09:00">9:00 AM</option>
                  </select>
                </div>

                <div class="meal-item">
                  <div class="meal-header">
                    <div class="meal-icon">🥗</div>
                    <div class="meal-info">
                      <div class="meal-name">Lunch</div>
                      <div class="meal-description">Fuel your afternoon!</div>
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" id="lunch-toggle">
                      <span class="slider"></span>
                    </label>
                  </div>
                  <select id="lunch-time" class="form-control">
                    <option value="12:00">12:00 PM</option>
                    <option value="13:00" selected>1:00 PM</option>
                    <option value="14:00">2:00 PM</option>
                  </select>
                </div>

                <div class="meal-item">
                  <div class="meal-header">
                    <div class="meal-icon">🍽️</div>
                    <div class="meal-info">
                      <div class="meal-name">Dinner</div>
                      <div class="meal-description">End the day well!</div>
                    </div>
                    <label class="toggle-switch">
                      <input type="checkbox" id="dinner-toggle">
                      <span class="slider"></span>
                    </label>
                  </div>
                  <select id="dinner-time" class="form-control">
                    <option value="18:00">6:00 PM</option>
                    <option value="19:00" selected>7:00 PM</option>
                    <option value="20:00">8:00 PM</option>
                  </select>
                </div>

              </div>
            </div>
          </div>

          <!-- Water Reminders -->
          <div class="card">
            <div class="card__body">
              <h3>💧 Water Reminders</h3>
              <div class="water-controls">
                
                <div class="water-toggle">
                  <div class="water-info">
                    <label class="water-label">Enable Water Reminders</label>
                    <p class="water-description">Stay hydrated! 💦</p>
                  </div>
                  <label class="toggle-switch">
                    <input type="checkbox" id="water-toggle">
                    <span class="slider"></span>
                  </label>
                </div>

                <select id="water-interval-select" class="form-control">
                  <option value="30">Every 30 minutes</option>
                  <option value="60" selected>Every 1 hour</option>
                  <option value="90">Every 1.5 hours</option>
                  <option value="120">Every 2 hours</option>
                </select>

              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- GALLERY SECTION -->
    <section id="gallery" class="section">
      <div class="container">
        <h2>📸 Photo Gallery</h2>
        <p>Beautiful memories captured! ✨</p>

        <div class="gallery-controls">
          <button id="add-photos-btn" class="btn btn--primary">📷 Add Photos</button>
          <button id="clear-gallery-btn" class="btn btn--outline">🗑️ Clear All</button>
        </div>

        <div id="gallery-grid" class="gallery-grid">
          <div class="empty-gallery">
            <div class="empty-icon">📷</div>
            <h3>No photos yet</h3>
            <p>Upload some beautiful memories to get started!</p>
          </div>
        </div>

        <input type="file" id="photo-input" multiple accept="image/*" style="display: none;">
      </div>
    </section>

    <!-- CALENDAR SECTION -->
    <section id="calendar" class="section">
      <div class="container">
        <h2>📅 Personal Calendar</h2>
        <p>Plan your celebrations! 🎉</p>

        <div class="calendar-container">
          <div class="calendar-header">
            <button id="prev-month" class="btn btn--outline">‹</button>
            <h3 id="current-month" class="current-month">September 2025</h3>
            <button id="next-month" class="btn btn--outline">›</button>
          </div>
          
          <div id="calendar-grid"></div>
          
          <div class="add-event-section">
            <button id="add-event-btn" class="btn btn--primary btn--lg">➕ Add Event</button>
          </div>

          <div class="upcoming-events">
            <h3>📅 Upcoming Events</h3>
            <div id="events-list">
              <p>No upcoming events</p>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Event Modal -->
  <div id="event-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">Add New Event</h2>
        <button class="close-btn" id="close-modal">×</button>
      </div>
      <form id="event-form" class="event-form">
        <div class="form-group">
          <label for="event-title">Event Title</label>
          <input type="text" id="event-title" name="title" required>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="event-date">Date</label>
            <input type="date" id="event-date" name="date" required>
          </div>
          <div class="form-group">
            <label for="event-time">Time</label>
            <input type="time" id="event-time" name="time">
          </div>
        </div>
        
        <div class="form-group">
          <label for="event-description">Description</label>
          <textarea id="event-description" name="description" rows="3"></textarea>
        </div>
        
        <div class="form-group">
          <label>Color</label>
          <div class="color-picker-group">
            <div class="color-presets">
              <div class="color-preset active" data-color="#FF6B9D" style="background: #FF6B9D;"></div>
              <div class="color-preset" data-color="#4ECDC4" style="background: #4ECDC4;"></div>
              <div class="color-preset" data-color="#45B7D1" style="background: #45B7D1;"></div>
              <div class="color-preset" data-color="#96CEB4" style="background: #96CEB4;"></div>
              <div class="color-preset" data-color="#FFEAA7" style="background: #FFEAA7;"></div>
              <div class="color-preset" data-color="#DDA0DD" style="background: #DDA0DD;"></div>
            </div>
          </div>
        </div>
        
        <div class="form-actions">
          <div class="left-actions">
            <button type="button" id="delete-event" class="btn btn--danger" style="display: none;">🗑️ Delete</button>
          </div>
          <div class="right-actions">
            <button type="button" id="cancel-event" class="btn btn--outline">Cancel</button>
            <button type="submit" id="save-event" class="btn btn--primary">💾 Save Event</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>